<div id="home_panel" class="panel_left">
	<label><input type="checkbox" id="timeFilterCheck">Zeitlichen Filter anwenden</label><br>
	<div id="timeParameters" hidden="hidden">
		Von:<br>
		<input class="textbox"type="text"id="from_dt">
		Bis:<br>
		<input class="textbox"type="text"id="to_dt">
		
		<br><br>
		Wochentag:<br>
		<label><input type="checkbox" id="cb_mo" checked>Mo.</label>
		<label><input type="checkbox" id="cb_di" checked>Di.</label>
		<label><input type="checkbox" id="cb_mi" checked>Mi.</label>
		<label><input type="checkbox" id="cb_do" checked>Do.</label>
		<label><input type="checkbox" id="cb_fr" checked>Fr.</label>
		<label><input type="checkbox" id="cb_sa" checked>Sa.</label>
		<label><input type="checkbox" id="cb_so" checked>So.</label>
	</div>
	<br>
	<label><input type="checkbox" id="spacialFilterCheck">Räumlichen Filter anwenden</label><br>
	<div id="spacialParameters"hidden="hidden">
		<br>
		<div id ="draw_buttons"></div>
	</div>
	<br>
	
	<button id="filter_btn" hidden="hidden">Filtern</button>
	<button id="analyse_btn" hidden="hidden">Analysieren</button>

</div>

<div id="home_page" class="page">
	<div id="map"></div>
	<div id="sidebar"></div>
</div>




<div id="analyse_panel" class="panel_left">
	Bitte wählen Sie ein Attribut:<br>
	<select id="selectedAttributes">
		<option value="Speed">Geschwindigkeit</option>
		<option value="Rpm">Upm</option>
		<option value="CO2">CO2</option>
		<option value="MAF">MAF</option>
		<option value="Calculated MAF">Berechneter MAF</option>
		<option value="Engine Load">Last</option>
		<option value="Intake Pressure">Ansaugdruck</option>
		<option value="Intake Temperature">Ansaugtemperatur</option>
	</select>
	<br>
	<label><input type="checkbox" id="expertMod">Expertenmodus</label><br>
	<div id="methodExp" hidden="hidden">
	Bitte wählen Sie die Aggregationsmethode
	<br>
		<select id="selectedMethod">
			<option>Mittelwert</option>
			<option>Maximum</option>
			<option>Minimum</option>
			<option>Median</option>
			<option>Standardabweichung</option>
		</select>
		<br>
	</div>
	<div id="rasterSize" hidden="hidden">
		Rasterzellenbreite (in Meter):
		<br>
		<input class="textbox numbersOnly"type="text"id="metersX" value="300">
		<br>
		Rasterzellenhöhe (in Meter):
		<br>
		<input class="textbox numbersOnly"type="text"id="metersY" value="300">
		<br>
	</div>
	<label><input type="checkbox" id="pointOverlay">Messpunkte im Ergebnis mit darstellen</label><br>
	<br>

	<button id="results_btn">Aggregation starten</button>
</div>




<div id="result_panel" class="panel_left">
	<h3>Ergebnis</h3>
</div>

<div id="result_page" class="page">

</div>




<div id="help_panel" class="panel_left">
	<h3>Hilfe</h3>
	<a id="p1" class="scroll">Allgemeines</a><br>
	<a id="p2" class="scroll">Fahrtinformationen</a><br>
	<a id="p3" class="scroll">Kartennavigation</a><br>
	<a id="p4" class="scroll">Filtern</a><br>
	<a id="p5" class="scroll">Analyse</a><br>
	<a id="p6" class="scroll">Boxplot</a><br>
</div>

<div id="help_page" class="page">
	
	<h3 id="p1_target">Allgemeines</h3>
	<p>
	Beim Aufruf der Applikation werden aktuelle Fahrten aus dem Stadtgebiet Münster auf der Karte angezeigt. <br>
	Am linken Rand innerhalb der Karte befinden sich die Navigationswerkzeuge. Details zur Kartennavigation finden sich im gleichnamigen Abschnitt.
	Über das Drop-Down Menü in der unteren rechten Ecke innerhalb der Karte lässt sich das gewünschte in der Karte darzustellende Attribut auswählen. Zur Verfügung stehen: <br>
	<ul>
	<li> Geschwindigkeit </li>
	<li> Upm - Umdrehungen pro Minute </li>
	<li> Verbrauch - Kraftstoffverbrauch </li>
	<li> CO2 - CO2-Ausstoß </li>
	<li> MAF - Luftmassendurchfluss </li>
	<li> Ber. MAF - Berechneter Luftmassendurchfluss </li>
	<li> Last - Motorlast </li>
	<li> Ansaugdruck </li>
	<li> Ansaugtemperatur </li>
	</ul>
	</p>
	<p>
	In der oberen rechten Ecke der Karte lässt sich zwischen verschiedenen (Hintergrund-) Karten auswählen. Zur Verfügung stehen folgende Karten: <br>
	<ul>
	<li> OpenStreetMap Karte </li>
	<li> Google Satellit - Satellitenbilder </li>
	<li> Google Geländekarte </li>
	<li> Topografische Karte </li>
	</ul>
	</p>
	<p>
	Unten rechts in der Karte werden die geographischen Koordinaten der Position, an der sich der Mauszeiger in der Karte befindet, angegeben. 
	Der Maßstab befindet sich unten links in der Karte. Über die Menüleiste am oberen Rand lässt sich über den Button “Start” zur Startseite navigieren. 
	Bei dem Aufruf der Startseite werden die Fahrten erneut geladen, die vor Verlassen der Startseite geladen waren. 
	Des Weiteren lässt die über die Menüleiste die Hilfeseite sowie das Impressum (“Über uns”) anzeigen. <br>
	Im Bereich links von der Karte bietet sich die Möglichkeit eine eigene Auswahl bezüglich der darzustellenden Fahrten hinsichtlich eines spezifischen Zeitraums 
	und / oder eines spezifischen Raumausschnitts zu treffen (Filtern). Details zur Filterung von Fahrten finden sich im Abschnitt Filtern.
	Des Weiteren bietet das Panel links von der Karte die Möglichkeit die Analyse über den Button “Analysieren” zu starten. 
	Details zur Analyse finden sich im Abschnitt “Analyse”. 
	Wie detaillierte Informationen über eine Fahrt abgerufen werden können wird im nächsten Abschnitt beschrieben.
	</p>
	
	<h3 id="p2_target">Fahrtinformationen</h3>
	<p>
	Es besteht die Möglichkeit durch einen Klick mit der linken Maustaste auf einen beliebigen Messpunkt innerhalb der Karte detaillierte Informationen zu diesem Punkt abzurufen. 
	Nach einem solchen Klick öffnet sich das Attributpanel am rechten Rand der Karte, in dem die Details zu dem ausgewählten Messpunkt angezeigt werden. 
	Neben den Messwerten zu den oben genannten Attributen werden die ID des Beobachtungspunkts, das Datum und die Uhrzeit der Messung, 
	der Fahrzeugtyp und die Koordinaten des Punktes (WGS84) ausgegeben. 
	Es ist zu beachten, dass nicht für jeden Messpunkt alle Attribute zur Verfügung stehen!
	Ist das Attributpanel geöffnet, so besteht die Möglichkeit, die Auswahl der dargestellten Fahrten in der Karte auf die Fahrt zu beschränken, zu dem der ausgewählte Punkt gehört. 
	Dazu wird der Button “Fahrt zu diesem Punkt anzeigen” gedrückt.
	Durch Klicken auf den Button “Statistik zur ausgewählten Fahrt anzeigen” öffnet sich die Ergebnisseite, und es wird ein Diagramm erzeugt, 
	das die Verteilung der Messdaten getrennt nach Attributen darstellt (Boxplot). Weitere Informationen dazu finden sich in dem Abschnitt “Boxplot”.
	</p>
	
	<h3 id="p3_target">Kartennavigation</h3>
	<p>
	Die Navigationswerkzeuge befinden sich am linken Rand innerhalb der Karte . 
	Mit den obersten vier Buttons lässt sich der Kartenausschnitt verschieben. 
	Mit dem sich darunter befindenden Schieberegler lässt sich in die Karte hinein- oder aus der Karte herauszoomen. 
	Betätigt der Benutzer den unterhalb des Schiebereglers liegenden Button, so wird auf die aktuelle Position des Benutzer gezoomt 
	und die ungefähre Position wird durch einen blauen Kreis visualisiert. <br>
	Durch ein Klicken und gedrückt Halten der linken Maustaste mit anschließendem Bewegen der Maus lässt sich der angezeigte Kartenausschnitt ebenfalls  verschieben (Panning). 
	Verfügt die “Maus” über ein “Mausrad”, so ist es möglich über Betätigung des Mausrades in die Karte hinein- oder aus der Karte heraus zu zoomen, 
	sofern sich der Mauszeiger innerhalb der Karte befindet.
	</p>
	
	<h3 id="p4_target">Filtern</h3>
	<p>
	Unsere Applikation ermöglicht das zeitliche und räumliche Filtern sowohl einzeln als auch als Kombination! <br>
	Wird ein Filter angewendet, so geschieht dies unabhängig von den zu diesem Zeitpunkt in der Applikation angezeigten Tracks. 
	Bei jedem Filtervorgang (Klick auf den “Filtern”-Button) wird eine neue Anfrage an die enviroCar Datenbank gestellt, und es werden Tracks entsprechend der Filtervorgaben geladen.
	Die Filter arbeiten genau! Beim Ziehen einer Bounding Box werden alle Punkte außerhalb der Boundig Box abgeschnitten. 
	Gleiches gilt für den zeitlichen Filter, bei dem alle Punkte außerhalb des gesetzten Zeitintervalls nicht mehr angezeigt werden.
	Falls bei einem Filter keine Ergebnisse angezeigt werden, sollte zunächst versucht werden, die Filterreichweite durch eine größere räumliche und/oder zeitliche Auswahl zu vergrößern.
	Bei der Anwendung des zeitlichen Filters ohne räumlichen Filter kann es zudem vorkommen, dass die Resultate nicht im aktuellen Bildschirmausschnitt liegen. 
	Durch herauszoomen lässt sich aber schnell feststellen, wo die Fahrten liegen.
	Bei zu klein gewählten Ausschnitten kann es passieren, dass für die Auswahl keine Daten vorliegen. Dies gilt insbesondere bei der Kombination von räumlichem und zeitlichem Filter. <br>
	Falls man aufgrund des gewählten Filters nicht alle Punkte einer Fahrt angezeigt bekommt, sich aber trotzdem für die ganze Fahrt interessiert, kann man sich diese wie folgt anzeigen lassen: 
	<ul>
		<li>Auswahl eines beliebigen Punktes der gewünschten Fahrt (durch einen Linksklick)</li>
		<li>Klick auf den Button “Fahrt zu diesem Punkt anzeigen” (unterhalb der Attributtabelle)</li>
	</ul>
	</p>
	<p>
	<u>Was beim Filtern passiert: </u><br>
	Zunächst wird je nach Filtereinstellung ein Request für die Envirocar-API erstellt um entsprechende Ergebnistracks zu erhalten. <br><br>
	<i>
	Beispiel-URLs: <br>
	Zeitlich: <br>
	https://envirocar.org/api/stable/tracks?limit=15&contains=2014-01-10T18:44:40Z,2014-01-10T16:19:02Z <br>
	Räumlich: <br>
	https://envirocar.org/api/stable/tracks?limit=15&bbox=11.56,47.45,11.66,47.6 <br>
	Zeitlich + räumlich: <br>
	https://envirocar.org/api/stable/tracks?limit=15&bbox=11.56,47.45,11.66,47.6&contains=2014-01-10T18:44:40Z,2014-01-10T16:19:02Z <br><br>
	</i>
	Nicht alle Messpunkte der Ergebnisse, die man so erhält liegen auch in dem ausgewählten Bereich sondern stellen lediglich eine Schnittmenge mit dem ausgewählten Bereich dar. 
	Auf das Ergebnis des Requests wird daher unser eigener Filter angewendet um die genauen Ergebnisse zu erhalten. 
	Dadurch stellen wir sicher, dass nur noch die Punkte angezeigt werden, welche den Filtereinstellungen entsprechen.

	</p>
	
	<h3 id="p5_target">Analyse</h3>
	<p>
	Es besteht die Möglichkeit eine oder mehrere Fahrten hinsichtlich der Ausprägung eines gewünschten Attributs über eine räumliche Aggregation zu analysieren. 
	Das Ergebnis der räumlichen Aggregation wird in einer Karte dargestellt, wobei zur besseren Orientierung in der Ergebniskarte eine google-Karte als Hintergrund verwendet wird, 
	sofern der google-Server die Kartenanfrage erfolgreich beantwortet. Ansonsten wird die Aggregation ohne Hintergrundkarte dargestellt. 
	Eine Aggregation bezieht sich immer auf die im aktuellen Zustand geladenen Fahrten. 
	Um sicher zu gehen, dass die Aggregation nur auf im Kartenfenster sichtbare Fahrten angewendet wird, kann zuvor ein räumlicher Filter benutzt werden. <br>
	
	Bei der räumlichen Aggregation werden die zu analysierenden Messwerte bezogen auf spezifizierte Raumausschnitte zusammengefasst (aggregiert). 
	Als Grundlage für die Aggregation der Messwerte wird ein Raster aus gleichgroßen Zellen verwendet, das den gesamten Raumausschnitt der zu analysierenden Messpunkte abdeckt. 
	Jeder dieser Rasterzellen wird dann ein Wert zugeordnet, der sich aus der Zusammenfassung (z.B. über die Bildung des Mittelwerts) der Messwerte ergibt, 
	die innerhalb dieser Rasterzelle liegen. <br>
	
	Die Aggregation wird mit einem Klick auf den Button “Analysieren” gestartet. 
	Daraufhin öffnet sich die Analyseseite, wo es eine Reihe an Auswahlmöglichkeiten gibt. 
	Grundsätzlich gibt es zwei verschiedene Modi, in denen die Aggregation durchgeführt werden kann: 
	Einerseits den voreingestellten Standard, sowie einen Expertenmodus, der durch aktivieren der Checkbox “Expertenmodus” gestartet werden kann. <br><br>
	
	<u>Standardmodus: </u><br>
	Das gewünschte zu analysierende Attribut muss in dem bereitgestellten Drop-Down Menü ausgewählt werden. 
	Optional können durch Aktivieren der entsprechenden Checkbox die Messpunkte im Ergebnis mit dargestellt werden. 
	Als Aggregationsfunktion wird im Standardmodus der Mittelwert verwendet. Zum Starten der Aggregation wird auf den Button “Aggregation starten” geklickt. 
	Daraufhin öffnet sich die Ergebnisansicht mit einer Karte, auf der die berechneten Aggregationswerte in Form eines Rasters dargestellt werden. 
	Für den Standardmodus ist das Aggregationsraster so definiert, dass die längere Seite des durch ein Rechteck gebildeten Raumausschnitts, 
	der genau die zu analysierenden Messpunkte umfasst, durch 20 Aggregationszellen repräsentiert wird. Die Aggregationszellen im Standardmodus sind annähernd quadratisch. <br><br>
	
	<u>Expertenmodus: </u><br>
	Der Standardmodus bildet die Basis für den Expertenmodus. 
	Ist die Checkbox “Expertenmodus” aktiviert, so eröffnen sich dem Benutzer nach Auswahl des gewünschten Attributs schrittweise weitere Einstellungsmöglichkeiten. 
	Die Funktion zur Zusammenfassung der Messwerte kann ausgewählt werden. Als Aggregationsfunktionen werden Minimum, Maximum, Mittelwert, Median und Standardabweichung angeboten. 
	Es ist zu beachten, dass bei der Wahl der Standardabweichung als Aggregationsfunktion mindestens zwei Messwerte innerhalb einer Aggregationszelle liegen müssen, damit ein 
	Aggregationswert bestimmt werden kann. Nach der Auswahl einer Aggregationsfunktion kann die Breite und Höhe der das Aggregationsraster bildenden Rasterzellen angegeben werden. 
	Die Angabe der Rasterzellengröße erfolgt in Metern. Zum Schluss muss der Button “Aggregation starten” durch einen Klick betätigt werden. <br>
	
	Die räumliche Aggregation der Messdaten wird - um den Client zu entlasten - auf einem Webserver durchgeführt. 
	Je nach Umfang der zu analysierenden und daher zu übertragenden Datenmenge kann es eine gewisse Zeit in Anspruch nehmen, bis das Ergebnis der Aggregation dargestellt werden kann. 
	Bitte haben Sie etwas Geduld!
	</p>
	
	<h3 id="p6_target">Boxplot</h3>
	<p>
	Ein Boxplot dient zur graphischen Darstellung der Verteilung von Daten. Durch ein Boxplot kann z.B. ein schneller Eindruck gewonnen werden, 
	ob sich die Werte eines Attributs sehr stark voneinander unterscheiden.
	Ein Boxplot besteht aus einem Rechteck und zwei Linien, die dieses Rechteck verlängern. Der schwarze Balken in der Mitte der Box repräsentiert den Median. 
	Die Box (Rechteck) entspricht dem Bereich, in dem die mittleren 50 % der Daten liegen, und die Linien repräsentieren den Rest der Daten, abgesehen von den Ausreißern, 
	die durch Kreise dargestellt sind. Jede der Linien steht also für die oberen und unteren 25 % der Daten.
	Hinweis für Experten: Länge der Linien (Antennen / Whisker) = 1,5 * Interquartil-Range der Box.
	</p>

</div>




<div id="about_panel" class="panel_left">
	<h3>Über enviroCar++</h3>
	<a id="p1" class="scroll">Projekt</a><br>
	<a id="p2" class="scroll">Teilnehmer</a><br>
	<a id="p3" class="scroll">Quelltext</a><br>
	<a id="p4" class="scroll">Lizenz</a><br>
</div>

<div id="about_page" class="page">
	
	<h3 id="p1_target">Projekt</h3>
	<p>
		Diese Webapplikation ist im Rahmen des Kurses “Geosoftware 2” des Instituts für Geoinformatik der Universität Münster entstanden. Das Ziel ist die Entwicklung einer Applikation zur Visualisierung und Exploration von raum-zeitvarianten Fahrzeugmessdaten. Die benötigten Daten werden vom enviroCar-Projekt bezogen (siehe hierzu <a href="https://envirocar.org/">envirocar.org</a>).
	</p>
	
	<h3 id="p2_target">Teilnehmer</h3>
	<p>
		Für den Inhalt der Seite sind verantwortlich:
		<ul>
			<li>André Wieghardt</li>
			<li>Lars Syfuß</li>
			<li>Roland Harhoff</li>
			<li>Peter Zimmerhof</li>
		</ul>
	</p>

	<h3 id="p3_target">Quelltext</h3>
	<p>
		Der Quelltext unseres Projektes kann über das folgende GitHub-Repository eingesehen bzw. abgerufen werden:<br>
		<a href="https://github.com/LarsGH/Geosoftware2GroupC">github.com/LarsGH/Geosoftware2GroupC</a>
	</p>

	<h3 id="p4_target">Lizenz</h3>
	<p>
		The MIT License (MIT)
		<br><br>
		Copyright (c) [2014] [Lars Syfuß, Peter Zimmerhof, Andre Wieghardt, Roland Harhoff]
		<br><br>
		Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
		<br><br>
		The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
		<br><br>
		THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
	</p>

</div>
